<!DOCTYPE html>
<head>
  <title>Pusher Test</title>
  <link
    rel="stylesheet"
    href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
    integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
    crossorigin="anonymous"
  />
  <link
    rel="stylesheet"
    href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
    integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
    crossorigin="anonymous"
  />
  <script
    src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
    integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
    crossorigin="anonymous"
  ></script>
  <script
    src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
    integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
    crossorigin="anonymous"
  ></script>
  <script src="https://js.pusher.com/4.3/pusher.min.js"></script>
  <script>
    // Enable pusher logging - don't include this in production
    Pusher.logToConsole = true;
    var messages = [];

    var pusher = new Pusher("2c2b0177a6cafc853992", {
      cluster: "us2",
      forceTLS: true
    });

    var channel = pusher.subscribe("activity");

    channel.bind("login", function(data) {
      document.getElementById("textDiv").innerHTML += JSON.stringify(data);
    });

    channel.bind("logout", function(data) {
      document.getElementById("textDiv").innerHTML += JSON.stringify(data);
    });
  </script>
</head>
<body>
  <div class="container">
    <div class="row">
      <div class="col-12">
        <div class="jumbotron">
          <h1 class="display-4">Hello, class!</h1>
          <p class="lead">Who's Here in BEW 1.3?</p>
          <hr class="my-4" />
          <p>
            Try publishing an event to channel <code>activity</code> with event name <code>login</code> or
            <code>logout</code>.
          </p>
          <p class="lead">
            <a
              class="btn btn-primary btn-lg"
              href="https://pusher.com/tutorials/online-presence-ruby-rails"
              target="_blank"
              role="button"
              >Go to the tutorial</a
            >
          </p>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-12">
        <textarea
          name="textDiv"
          id="textDiv"
          style="width: 100%; height: 500px; overflow: auto;"
          cols="45"
          rows="100"
        ></textarea>
      </div>
    </div>
  </div>
</body>
